!function(e,t,n){var o=n(e),a=n(t),i=n.fancybox=function(){i.open.apply(this,arguments)},r=!1,c=null;n.extend(i,{version:"2.0.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:200,minHeight:200,maxWidth:9999,maxHeight:9999,autoSize:!0,fitToView:!0,aspectRatio:!1,topRatio:.5,fixed:!n.browser.msie||6<n.browser.version||!t.documentElement.hasOwnProperty("ontouchstart"),scrolling:"auto",wrapCSS:"fancybox-default",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,modal:!1,loop:!0,ajax:{},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0" '+(n.browser.msie?'allowtransparency="true""':"")+' scrolling="{scrolling}" src="{href}"></iframe>',swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-item fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-item fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}}},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,wrap:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){n.isArray(e)||(e=[e]),e.length&&(i.close(!0),i.opts=n.extend(!0,{},i.defaults,t),i.group=e,i._start(i.opts.index||0))},cancel:function(){i.coming&&!1===i.trigger("onCancel")||(i.coming=null,i.hideLoading(),i.ajaxLoad&&i.ajaxLoad.abort(),i.ajaxLoad=null,!i.imgPreload)||(i.imgPreload.onload=i.imgPreload.onabort=i.imgPreload.onerror=null)},close:function(e){i.cancel(),i.current&&!1!==i.trigger("beforeClose")&&(i.unbindEvents(),!i.isOpen||e&&!0===e[0]?(n(".fancybox-wrap").stop().trigger("onReset").remove(),i._afterZoomOut()):(i.isOpen=i.isOpened=!1,n(".fancybox-item").remove(),i.wrap.stop(!0).removeClass("fancybox-opened"),i.inner.css("overflow","hidden"),i.transitions[i.current.closeMethod]()))},play:function(e){var t=function(){clearTimeout(i.player.timer)},o=function(){t(),i.current&&i.player.isActive&&(i.player.timer=setTimeout(i.next,i.current.playSpeed))},a=function(){t(),n("body").unbind(".player"),i.player.isActive=!1,i.trigger("onPlayEnd")};i.player.isActive||e&&!1===e[0]?a():i.current&&(i.current.loop||i.current.index<i.group.length-1)&&(i.player.isActive=!0,n("body").bind({"afterShow.player onUpdate.player":o,"onCancel.player beforeClose.player":a,"beforeLoad.player":t}),o(),i.trigger("onPlayStart"))},next:function(){i.current&&i.jumpto(i.current.index+1)},prev:function(){i.current&&i.jumpto(i.current.index-1)},jumpto:function(e){i.current&&(e=parseInt(e,10),1<i.group.length&&i.current.loop&&(e>=i.group.length?e=0:0>e&&(e=i.group.length-1)),"undefined"!=typeof i.group[e]&&(i.cancel(),i._start(e)))},reposition:function(e){i.isOpen&&i.wrap.css(i._getPosition(e))},update:function(){i.isOpen&&(r||(c=setInterval(function(){r&&(r=!1,clearTimeout(c),i.current)&&(i.current.autoSize&&(i.inner.height("auto"),i.current.height=i.inner.height()),i._setDimension(),i.current.canGrow&&i.inner.height("auto"),i.reposition(),i.trigger("onUpdate"))},100)),r=!0)},toggle:function(){i.isOpen&&(i.current.fitToView=!i.current.fitToView,i.update())},hideLoading:function(){n("#fancybox-loading").remove()},showLoading:function(){i.hideLoading(),n('<div id="fancybox-loading"></div>').click(i.cancel).appendTo("body")},getViewport:function(){return{x:o.scrollLeft(),y:o.scrollTop(),w:o.width(),h:o.height()}},unbindEvents:function(){i.wrap&&i.wrap.unbind(".fb"),a.unbind(".fb"),o.unbind(".fb")},bindEvents:function(){var e=i.current,t=e.keys;e&&(o.bind("resize.fb, orientationchange.fb",i.update),t&&a.bind("keydown.fb",function(e){var o;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||!(0>n.inArray(e.target.tagName.toLowerCase(),["input","textarea","select","button"]))||(o=e.keyCode,-1<n.inArray(o,t.close)?(i.close(),e.preventDefault()):-1<n.inArray(o,t.next)?(i.next(),e.preventDefault()):-1<n.inArray(o,t.prev)&&(i.prev(),e.preventDefault()))}),n.fn.mousewheel&&e.mouseWheel&&1<i.group.length&&i.wrap.bind("mousewheel.fb",function(e,t){var o=n(e.target).get(0);(0===o.clientHeight||o.scrollHeight===o.clientHeight)&&(e.preventDefault(),i[t>0?"prev":"next"]())}))},trigger:function(e){var t,o=i[-1<n.inArray(e,["onCancel","beforeLoad","afterLoad"])?"coming":"current"];if(o){if(n.isFunction(o[e])&&(t=o[e].apply(o,Array.prototype.slice.call(arguments,1))),!1===t)return!1;o.helpers&&n.each(o.helpers,function(t,a){a&&"undefined"!=typeof i.helpers[t]&&n.isFunction(i.helpers[t][e])&&i.helpers[t][e](a,o)}),n.event.trigger(e+".fb")}},isImage:function(e){return e&&e.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i)},isSWF:function(e){return e&&e.match(/\.(swf)(.*)?$/i)},_start:function(e){var t,o,a,r={},c=i.group[e]||null;"object"==typeof c&&(c.nodeType||c instanceof n)&&(t=!0,n.metadata&&(r=n(c).metadata())),r=n.extend(!0,{},i.opts,{index:e,element:c},n.isPlainObject(c)?c:r),n.each(["href","title","content","type"],function(e,o){r[o]=i.opts[o]||t&&n(c).attr(o)||r[o]||null}),"number"==typeof r.margin&&(r.margin=[r.margin,r.margin,r.margin,r.margin]),r.modal&&n.extend(!0,r,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}}),i.coming=r,!1===i.trigger("beforeLoad")?i.coming=null:(o=r.type,e=r.href,o||(t&&(a=n(c).data("fancybox-type"),!a&&c.className&&(o=(a=c.className.match(/fancybox\.(\w+)/))?a[1]:null)),!o&&e&&(i.isImage(e)?o="image":i.isSWF(e)?o="swf":e.match(/^#/)&&(o="inline")),o||(o=t?"inline":"html"),r.type=o),"inline"===o||"html"===o?(r.content=r.content||("inline"===o&&e?n(e):c),r.content.length||(o=null)):(r.href=e||c,r.href||(o=null)),r.group=i.group,"image"===o?i._loadImage():"ajax"===o?i._loadAjax():o?i._afterLoad():i._error("type"))},_error:function(e){n.extend(i.coming,{type:"html",autoSize:!0,minHeight:"0",hasError:e,content:i.coming.tpl.error}),i._afterLoad()},_loadImage:function(){i.imgPreload=new Image,i.imgPreload.onload=function(){this.onload=this.onerror=null,i.coming.width=this.width,i.coming.height=this.height,i._afterLoad()},i.imgPreload.onerror=function(){this.onload=this.onerror=null,i._error("image")},i.imgPreload.src=i.coming.href,i.imgPreload.complete||i.showLoading()},_loadAjax:function(){i.showLoading(),i.ajaxLoad=n.ajax(n.extend({},i.coming.ajax,{url:i.coming.href,error:function(e,t){"abort"!==t?i._error("ajax",e):i.hideLoading()},success:function(e,t){"success"===t&&(i.coming.content=e,i._afterLoad())}}))},_preload:function(){var e=i.group,t=i.current.index,o=function(e){e&&i.isImage(e)&&((new Image).src=e)};1<e.length&&(o(n(e[t+1]||e[0]).attr("href")),o(n(e[t-1]||e[e.length-1]).attr("href")))},_afterLoad:function(){i.hideLoading(),i.coming&&!1!==i.trigger("afterLoad",i.current)?(i.isOpened?(n(".fancybox-item").remove(),i.wrap.stop(!0).removeClass("fancybox-opened"),i.inner.css("overflow","hidden"),i.transitions[i.current.prevMethod]()):(n(".fancybox-wrap").stop().trigger("onReset").remove(),i.trigger("afterClose")),i.unbindEvents(),i.isOpen=!1,i.current=i.coming,i.coming=!1,i.wrap=n(i.current.tpl.wrap).addClass("fancybox-tmp "+i.current.wrapCSS).appendTo("body"),i.outer=n(".fancybox-outer",i.wrap).css("padding",i.current.padding+"px"),i.inner=n(".fancybox-inner",i.wrap),i._setContent(),i.trigger("beforeShow"),i._setDimension(),i.wrap.hide().removeClass("fancybox-tmp"),i.bindEvents(),i._preload(),i.transitions[i.isOpened?i.current.nextMethod:i.current.openMethod]()):i.coming=!1},_setContent:function(){var e,t,o=i.current,a=o.type;switch(a){case"inline":case"ajax":case"html":e=o.content,"inline"===a&&e instanceof n&&(e=e.show().detach(),e.parent().hasClass("fancybox-inner")&&e.parents(".fancybox-wrap").trigger("onReset").remove(),n(i.wrap).bind("onReset",function(){e.appendTo("body").hide()})),o.autoSize&&(t=n('<div class="fancybox-tmp"></div>').appendTo(n("body")).append(e),o.width=t.outerWidth(),o.height=t.outerHeight(!0),e=t.contents().detach(),t.remove());break;case"image":e=o.tpl.image.replace("{href}",o.href),o.aspectRatio=!0;break;case"swf":e=o.tpl.swf.replace(/\{width\}/g,o.width).replace(/\{height\}/g,o.height).replace(/\{href\}/g,o.href);break;case"iframe":e=o.tpl.iframe.replace("{href}",o.href).replace("{scrolling}",o.scrolling).replace("{rnd}",(new Date).getTime())}-1<n.inArray(a,["image","swf","iframe"])&&(o.autoSize=!1,o.scrolling=!1),i.inner.append(e)},_setDimension:function(){var e=i.wrap,t=i.outer,o=i.inner,a=i.current,r=i.getViewport(),c=a.margin,s=2*a.padding,l=a.width+s,p=a.height+s,d=a.width/a.height,f=a.maxWidth,h=a.maxHeight,u=a.minWidth,g=a.minHeight;if(r.w-=c[1]+c[3],r.h-=c[0]+c[2],-1<l.toString().indexOf("%")&&(l=r.w*parseFloat(l)/100),-1<p.toString().indexOf("%")&&(p=r.h*parseFloat(p)/100),a.fitToView&&(f=Math.min(r.w,f),h=Math.min(r.h,h)),u=Math.min(l,u),g=Math.min(l,g),f=Math.max(u,f),h=Math.max(g,h),a.aspectRatio?(l>f&&(l=f,p=(l-s)/d+s),p>h&&(p=h,l=(p-s)*d+s),u>l&&(l=u,p=(l-s)/d+s),g>p&&(p=g,l=(p-s)*d+s)):(l=Math.max(u,Math.min(l,f)),p=Math.max(g,Math.min(p,h))),l=Math.round(l),p=Math.round(p),n(e.add(t).add(o)).width("auto").height("auto"),o.width(l-s).height(p-s),e.width(l),c=e.height(),l>f||c>h)for(;(l>f||c>h)&&l>u&&c>g;)p-=10,a.aspectRatio?(l=Math.round((p-s)*d+s),u>l&&(l=u,p=(l-s)/d+s)):l-=10,o.width(l-s).height(p-s),e.width(l),c=e.height();a.dim={width:l,height:c},a.canGrow=a.autoSize&&p>g&&h>p,a.canShrink=!1,a.canExpand=!1,l-s<a.width||p-s<a.height?a.canExpand=!0:(l>r.w||c>r.h)&&l>u&&p>g&&(a.canShrink=!0),e=c-s,i.innerSpace=e-o.height(),i.outerSpace=e-t.height()},_getPosition:function(e){var t=i.current,n=i.getViewport(),o=t.margin,a=i.wrap.width()+o[1]+o[3],r=i.wrap.height()+o[0]+o[2],c={position:"absolute",top:o[0]+n.y,left:o[3]+n.x};return t.fixed&&(!e||!1===e[0])&&r<=n.h&&a<=n.w&&(c={position:"fixed",top:o[0],left:o[3]}),c.top=Math.ceil(Math.max(c.top,c.top+(n.h-r)*t.topRatio))+"px",c.left=Math.ceil(Math.max(c.left,c.left+.5*(n.w-a)))+"px",c},_afterZoomIn:function(){var e=i.current;i.isOpen=i.isOpened=!0,i.wrap.addClass("fancybox-opened").css("overflow","visible"),i.update(),i.inner.css("overflow","auto"===e.scrolling?"auto":"yes"===e.scrolling?"scroll":"hidden"),(e.closeClick||e.nextClick)&&i.inner.css("cursor","pointer").bind("click.fb",e.nextClick?i.next:i.close),e.closeBtn&&n(e.tpl.closeBtn).appendTo(i.wrap).bind("click.fb",i.close),e.arrows&&1<i.group.length&&((e.loop||0<e.index)&&n(e.tpl.prev).appendTo(i.wrap).bind("click.fb",i.prev),(e.loop||e.index<i.group.length-1)&&n(e.tpl.next).appendTo(i.wrap).bind("click.fb",i.next)),i.trigger("afterShow"),i.opts.autoPlay&&!i.player.isActive&&(i.opts.autoPlay=!1,i.play())},_afterZoomOut:function(){i.trigger("afterClose"),i.wrap.trigger("onReset").remove(),n.extend(i,{group:{},opts:{},current:null,isOpened:!1,isOpen:!1,wrap:null,outer:null,inner:null})}}),i.transitions={getOrigPosition:function(){var e,t=i.current.element,o={},a=50,r=50;return t&&t.nodeName&&n(t).is(":visible")?(e=n(t).find("img:first"),e.length?(o=e.offset(),a=e.outerWidth(),r=e.outerHeight()):o=n(t).offset()):(t=i.getViewport(),o.top=t.y+.5*(t.h-r),o.left=t.x+.5*(t.w-a)),o={top:Math.ceil(o.top)+"px",left:Math.ceil(o.left)+"px",width:Math.ceil(a)+"px",height:Math.ceil(r)+"px"}},step:function(e,t){var n,o,a;("width"===t.prop||"height"===t.prop)&&(o=a=Math.ceil(e-2*i.current.padding),"height"===t.prop&&(n=(e-t.start)/(t.end-t.start),t.start>t.end&&(n=1-n),o-=i.innerSpace*n,a-=i.outerSpace*n),i.inner[t.prop](o),i.outer[t.prop](a))},zoomIn:function(){var e,t,o=i.wrap,a=i.current;e=a.dim,"elastic"===a.openEffect?(t=n.extend({},e,i._getPosition(!0)),delete t.position,e=this.getOrigPosition(),a.openOpacity&&(e.opacity=0,t.opacity=1),o.css(e).show().animate(t,{duration:a.openSpeed,easing:a.openEasing,step:this.step,complete:i._afterZoomIn})):(o.css(n.extend({},e,i._getPosition())),"fade"===a.openEffect?o.fadeIn(a.openSpeed,i._afterZoomIn):(o.show(),i._afterZoomIn()))},zoomOut:function(){var e,t=i.wrap,n=i.current;"elastic"===n.closeEffect?("fixed"===t.css("position")&&t.css(i._getPosition(!0)),e=this.getOrigPosition(),n.closeOpacity&&(e.opacity=0),t.animate(e,{duration:n.closeSpeed,easing:n.closeEasing,step:this.step,complete:i._afterZoomOut})):t.fadeOut("fade"===n.closeEffect?n.closeSpeed:0,i._afterZoomOut)},changeIn:function(){var e,t=i.wrap,n=i.current;"elastic"===n.nextEffect?(e=i._getPosition(!0),e.opacity=0,e.top=parseInt(e.top,10)-200+"px",t.css(e).show().animate({opacity:1,top:"+=200px"},{duration:n.nextSpeed,complete:i._afterZoomIn})):(t.css(i._getPosition()),"fade"===n.nextEffect?t.hide().fadeIn(n.nextSpeed,i._afterZoomIn):(t.show(),i._afterZoomIn()))},changeOut:function(){var e=i.wrap,t=i.current,o=function(){n(this).trigger("onReset").remove()};e.removeClass("fancybox-opened"),"elastic"===t.prevEffect?e.animate({opacity:0,top:"+=200px"},{duration:t.prevSpeed,complete:o}):e.fadeOut("fade"===t.prevEffect?t.prevSpeed:0,o)}},i.helpers.overlay={overlay:null,update:function(){var e,i;this.overlay.width(0).height(0),n.browser.msie?(e=Math.max(t.documentElement.scrollWidth,t.body.scrollWidth),i=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),e=i>e?o.width():e):e=a.width(),this.overlay.width(e).height(a.height())},beforeShow:function(e){this.overlay||(this.overlay=n('<div id="fancybox-overlay"></div>').css(e.css||{background:"black"}).appendTo("body"),this.update(),e.closeClick&&this.overlay.bind("click.fb",i.close),o.bind("resize.fb",n.proxy(this.update,this)),this.overlay.fadeTo(e.speedIn||"fast",e.opacity||1))},onUpdate:function(){this.update()},afterClose:function(e){this.overlay&&this.overlay.fadeOut(e.speedOut||"fast",function(){n(this).remove()}),this.overlay=null}},i.helpers.title={beforeShow:function(e){var t;(t=i.current.title)&&(t=n('<div class="fancybox-title fancybox-title-'+e.type+'-wrap">'+t+"</div>").appendTo("body"),"float"===e.type&&(t.width(t.width()),t.wrapInner('<span class="child"></span>'),i.current.margin[2]+=Math.abs(parseInt(t.css("margin-bottom"),10))),t.appendTo("over"===e.type?i.inner:"outside"===e.type?i.wrap:i.outer))}},n.fn.fancybox=function(e){function t(e){var t,a=[],c=this.rel;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault(),e=n(this).data("fancybox-group"),"undefined"!=typeof e?t=e?"data-fancybox-group":!1:c&&""!==c&&"nofollow"!==c&&(e=c,t="rel"),t&&(a=r.length?n(r).filter("["+t+'="'+e+'"]'):n("["+t+'="'+e+'"]')),a.length?(o.index=a.index(this),i.open(a.get(),o)):i.open(this,o))}var o=e||{},r=this.selector||"";return r?a.undelegate(r,"click.fb-start").delegate(r,"click.fb-start",t):n(this).unbind("click.fb-start").bind("click.fb-start",t),this}}(window,document,jQuery);